<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Gallery | Faculty Archive</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Cinzel:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --gold: #d4af37;
            --primary: #10b981;
            --bg: #020617;
            --card-bg: rgba(255, 255, 255, 0.03);
            --header-bg: #000000;
            --border: rgba(212, 175, 55, 0.2);
            --text: #f8fafc;
            --sub-text: #94a3b8;
        }

        [data-theme="light"] {
            --bg: #f8fafc;
            --header-bg: #ffffff;
            --card-bg: #ffffff;
            --border: rgba(0, 0, 0, 0.1);
            --text: #0f172a;
            --sub-text: #475569;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: background 0.3s, color 0.3s; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; overflow-x: hidden; }

        /* Navigation */
        .navbar { 
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem 5%; background: var(--header-bg); border-bottom: 1px solid var(--border); 
            position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(10px);
        }
        .nav-group { display: flex; gap: 15px; align-items: center; }
        .nav-link { color: var(--text); text-decoration: none; font-weight: 800; font-size: 0.8rem; display: flex; align-items: center; gap: 8px; }

        /* Admin Panel */
        .admin-panel { 
            max-width: 1400px; margin: 30px auto; padding: 40px; 
            background: var(--card-bg); border-radius: 24px; border: 1px solid var(--border); 
            text-align: center; 
        }
        .upload-btn { 
            background: var(--gold); color: #000; border: none; padding: 14px 30px; 
            border-radius: 12px; font-weight: 800; cursor: pointer; transition: 0.3s; 
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }
        .upload-btn:hover { transform: translateY(-2px); filter: brightness(1.1); }

        /* Gallery Grid */
        .gallery-wrap { max-width: 1400px; margin: 0 auto; padding: 20px 40px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }

        .item { 
            position: relative; border-radius: 20px; overflow: hidden; 
            background: #000; border: 1px solid var(--border); aspect-ratio: 16/10; 
            cursor: pointer; group: hover;
        }
        .item img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .item:hover img { transform: scale(1.05); filter: brightness(0.5); }

        /* Overlay Delete Trigger */
        .delete-trigger {
            position: absolute; top: 15px; right: 15px; background: rgba(239, 68, 68, 0.9);
            color: white; width: 35px; height: 35px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: 0.3s; z-index: 10;
        }
        .item:hover .delete-trigger { opacity: 1; }

        /* Lightbox Styles */
        .lightbox {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; flex-direction: column; justify-content: center;
            align-items: center; z-index: 2000; padding: 40px;
        }
        .lightbox.active { display: flex; }
        .lb-content { position: relative; max-width: 800px; width: 100%; text-align: center; }
        .lb-content img { width: 100%; border-radius: 20px; border: 1px solid var(--gold); margin-bottom: 25px; box-shadow: 0 0 30px rgba(212, 175, 55, 0.2); }
        
        .ai-quote-box {
            background: rgba(212, 175, 55, 0.05); padding: 25px; border-radius: 15px; 
            border-left: 4px solid var(--gold); font-style: italic; color: #fff; position: relative;
        }
        .close-box { position: absolute; top: -60px; right: 0; font-size: 2.5rem; color: white; cursor: pointer; }

        /* Theme Toggle Button */
        .theme-btn {
            background: var(--card-bg); border: 1px solid var(--border);
            color: var(--gold); width: 40px; height: 40px; border-radius: 10px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
        }
    </style>
</head>
<body oncontextmenu="return false">

    <nav class="navbar">
        <div class="nav-group">
            <a href="index.html" class="nav-link"><i class="fas fa-home"></i> HOME</a>
            <button class="nav-link" style="background:none; border:none; cursor:pointer;" onclick="history.back()"><i class="fas fa-arrow-left"></i> BACK</button>
        </div>
        
        <div style="font-family:'Cinzel'; color:var(--gold); font-size:1.4rem; letter-spacing: 2px;">AI<span>ARCHIVE</span></div>

        <div class="nav-group">
            <button class="theme-btn" onclick="toggleTheme()"><i class="fas fa-adjust"></i></button>
            <a href="index.html" class="nav-link" style="color:var(--gold)">EXIT</a>
        </div>
    </nav>

    <div class="admin-panel">
        <h2 style="font-family:'Cinzel'; color:var(--gold); margin-bottom:15px; letter-spacing: 1px;">Archive Oversight</h2>
        <p style="color:var(--sub-text); margin-bottom:25px; font-size:0.9rem;">The General Secretary portal for managing visual faculty memories.</p>
        <button class="upload-btn" onclick="triggerSecureUpload()">+ UPLOAD NEW MEMORY</button>
        <input type="file" id="real-file" style="display:none" accept="image/*">
    </div>

    <div class="gallery-wrap">
        <div class="grid" id="gallery-grid"></div>
    </div>

    <div class="lightbox" id="lightbox">
        <div class="lb-content">
            <span class="close-box" onclick="closeLightbox()">&times;</span>
            <img id="lb-img" src="">
            <div class="ai-quote-box">
                <p id="ai-quote-text">"Analyzing visual memory..."</p>
            </div>
            <div style="margin-top:20px; display:flex; gap:15px; justify-content:center;">
                <button class="upload-btn" style="background:transparent; border:1px solid var(--gold); color:var(--gold);" onclick="downloadCurrent()">Download Image</button>
            </div>
        </div>
    </div>

    <script>
        const MASTER_PASS = "DolapoAdmin";
        const quotes = [
            "Greatness is not just in the records we keep, but in the moments we share.",
            "Innovation in this faculty starts with a single vision.",
            "Legacy is built one achievement at a time. Captured forever.",
            "Unity is the cornerstone of our academic excellence.",
            "Beyond the lectures and labs lies the heart of our community.",
            "A memory captured today becomes history tomorrow.",
            "Sometimes even when one doesnt deserve anything, he gets something better just because he is good to others.",
            "The best way to find yourself is to lose yourself in the service of others.",
            "Education is the most powerful weapon which you can use to change the world.",
            "In the middle of every difficulty lies opportunity.",
            "Life will definitely throw you challenges, but the key to overcoming them is to stay focused on your goals and keep pushing forward.",
            "Success is not final, failure is not fatal: It is the courage to continue that counts.",
            "Believe you can and you're halfway there.",
            "The only way to do great work is to love what you do.",
            "Don't watch the clock; do what it does. Keep going.",
            "The future belongs to those who believe in the beauty of their dreams.",
            "Dreams get prettier when chased.",
            "Strive for progress, not perfection.",
            "Your limitationâ€”it's only your imagination.",
            "Old but Gold, make your story bold.",
            "Be Godly, nice and kind always to your fellow students."

        ];

        // --- THEME LOGIC ---
        function toggleTheme() {
            const body = document.body;
            const isLight = body.getAttribute('data-theme') === 'light';
            body.setAttribute('data-theme', isLight ? 'dark' : 'light');
            localStorage.setItem('archive-theme', isLight ? 'dark' : 'light');
        }

        // --- UPLOAD & STORAGE ---
        function triggerSecureUpload() {
            if(prompt("Enter Gen Sec Password:") === MASTER_PASS) document.getElementById('real-file').click();
            else alert("Unauthorized access denied.");
        }

        document.getElementById('real-file').onchange = (e) => {
            const file = e.target.files[0];
            if(file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const id = Date.now();
                    const src = event.target.result;
                    const photos = JSON.parse(localStorage.getItem('ai_photos') || '[]');
                    photos.push({id, src});
                    localStorage.setItem('ai_photos', JSON.stringify(photos));
                    renderPhoto(id, src);
                };
                reader.readAsDataURL(file);
            }
        };

        // --- DELETE LOGIC ---
        function requestDelete(id, event) {
            event.stopPropagation(); // Prevents lightbox from opening
            if(prompt("Enter Gen Sec Password to DELETE:") === MASTER_PASS) {
                let photos = JSON.parse(localStorage.getItem('ai_photos') || '[]');
                photos = photos.filter(p => p.id !== id);
                localStorage.setItem('ai_photos', JSON.stringify(photos));
                
                // Refresh Grid
                document.getElementById('gallery-grid').innerHTML = '';
                photos.forEach(p => renderPhoto(p.id, p.src));
            } else {
                alert("Deletion unauthorized.");
            }
        }

        function renderPhoto(id, src) {
            const div = document.createElement('div');
            div.className = 'item';
            div.innerHTML = `
                <div class="delete-trigger" onclick="requestDelete(${id}, event)">
                    <i class="fas fa-trash-alt"></i>
                </div>
                <img src="${src}">
            `;
            div.onclick = () => openAILightbox(src);
            document.getElementById('gallery-grid').prepend(div);
        }

        // --- UI FUNCTIONS ---
        function openAILightbox(src) {
            document.getElementById('lb-img').src = src;
            document.getElementById('lightbox').classList.add('active');
            const quoteEl = document.getElementById('ai-quote-text');
            quoteEl.innerText = "Analyzing memory...";
            setTimeout(() => {
                quoteEl.innerText = `"${quotes[Math.floor(Math.random() * quotes.length)]}"`;
            }, 800);
        }

        function closeLightbox() { document.getElementById('lightbox').classList.remove('active'); }

        function downloadCurrent() {
            const link = document.createElement('a');
            link.href = document.getElementById('lb-img').src;
            link.download = "Faculty_Archive_Memory.png";
            link.click();
        }

        // --- INIT ---
        window.onload = () => {
            if(localStorage.getItem('archive-theme') === 'light') document.body.setAttribute('data-theme', 'light');
            const saved = JSON.parse(localStorage.getItem('ai_photos') || '[]');
            saved.forEach(p => renderPhoto(p.id, p.src));
        }
    </script>
</body>
</html>